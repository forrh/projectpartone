<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LIMS Control Panel</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="stylesheet" href="main.css" />
    <link rel="stylesheet" href="index.css" />
    <link rel="stylesheet" href="darkmode.css" />
    <link rel="stylesheet" href="quotation.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <!-- NEW: FixedColumns CSS for fixed headers -->
    <link rel="stylesheet" href="https://cdn.datatables.net/fixedcolumns/4.3.0/css/fixedColumns.dataTables.min.css">
<header class="main-header">
    <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px;">
        <button id="darkModeToggle" onclick="toggleDarkMode()">
            <i class="fas fa-circle-half-stroke"></i>
        </button>
        <div>
            <button onclick="setLanguage('en')">
                <i class="fas fa-language"></i> English
            </button>
            <button onclick="setLanguage('ar')">
                <i class="fas fa-globe"></i> العربية
            </button>
        </div>
    </div>
    <h1>
        <i class="fas fa-microscope"></i>
        <span data-key="LIMS Control Panel">LIMS Control Panel</span>
    </h1>
</header>
</head>
<body>
       <nav class="main-menu">
    <button onclick="window.location.href = 'index.html'"><i class="fas fa-layer-group"></i> <span data-key="General">General</span></button>
    <button onclick="window.location.href = 'geotech.html'"><i class="fas fa-mountain"></i> <span data-key="Geotechnical">Geotechnical</span></button>
    <button onclick="window.location.href = 'calibration.html'"><i class="fas fa-ruler"></i> <span data-key="Calibration">Calibration</span></button>
    <button onclick="window.location.href = 'fleet.html'"><i class="fas fa-truck-fast"></i> <span data-key="Fleet">Fleet</span></button>
    <button onclick="window.location.href = 'dashboards.html'"><i class="fas fa-chart-pie"></i> <span data-key="Dashboards">Dashboards</span></button>
    <button onclick="window.location.href = 'security.html'"><i class="fas fa-user-shield"></i> <span data-key="Security">Security</span></button>
    <button onclick="window.location.href = 'options.html'"><i class="fas fa-gear"></i> <span data-key="Options">Options</span></button>
</nav>
    <section id="customers-section" class="section-content active">
        <div class="icon-toolbar">
            <div>
                <button title="Add" onclick="openQuotationModal()" class="btn-icon"><i class="fas fa-file"></i></button>
                <button title="Edit" onclick="openCustomerModal(getSelectedCustomerId())" class="btn-icon"><i class="fas fa-pen"></i></button>
                <button title="Delete" onclick="deleteSelectedCustomers()" class="btn-icon"><i class="fas fa-trash"></i></button>
            </div>
            <div class="icon-separator"></div>
            <div>
                <button title="File Manager" onclick="showSection('file-manager-section')" class="btn-icon">
                    <i class="fas fa-folder"></i>
                </button>
                <button title="Export to Excel" onclick="exportTableToExcel('customerTable')" class="btn-icon">
                    <i class="fas fa-file-excel"></i>
                </button>
                <button title="Print" onclick="printTable('customerTable')" class="btn-icon">
                    <i class="fas fa-print"></i>
                </button>
            </div>
        </div>

        <section class="section-content" id="quotationSection" style="display: block;">
            <table id="quotationTable" class="quotation-table" data-ignore-lang>
                <thead>
                    <tr>
                        <th><input type="checkbox" onclick="toggleSelectAllQuotations(this)" id="selectAllQuotations" /></th>
                        <th>Category</th>
                        <th>Quote No</th>
                        <th>Rev.</th>
                        <th>Quote Date</th>
                        <th>Project Code</th>
                        <th>Legacy No</th>
                        <th>Legacy Date</th>
                        <th>Customer</th>
                        <th>Project Name</th>
                        <th>Project Details</th>
                        <th>Subject</th>
                        <th>From</th>
                        <th>Inquiry</th>
                        <th>Contact</th>
                        <th>To</th>
                        <th>Attn. To</th>
                        <th>Attn. Pos</th>
                        <th>Discount</th>
                        <th>VAT</th>
                        <th>Validity</th>
                        <th>Currency</th>
                        <th>Payment Terms</th>
                        <th>Method</th>
                        <th>Remarks</th>
                        <th>Quote File</th>
                        <th>File Status</th>
                        <th>Declined</th>
                        <th>Declined Msg</th>
                    </tr>
                    <tr class="filter-row">
                        <td></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="date" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="date" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </section>
    </section>

    <!-- Container for fixed bottom pagination -->
    <div id="quotation-pagination-fixed-bottom" class="fixed-bottom-bar">
        <!-- DataTables will inject pagination and info here via JavaScript -->
    </div>

    <div id="quotationModal" class="modal" style="display: none;">
        <div class="modal-content large-modal quotation-modal-grid">
            <span class="close" onclick="closeQuotationModal()">&times;</span>

            <ul class="tab-list">
                <li class="tab active" data-tab-target="headerTab" onclick="openTab(event, 'headerTab')">Quote Header</li>
                <li class="tab" data-tab-target="linesTab" onclick="openTab(event, 'linesTab')">Quote Lines</li>
                <li class="tab" data-tab-target="confirmationTab" onclick="openTab(event, 'confirmationTab')">Confirmation</li>
                <li class="tab" data-tab-target="additionalInfoTab" onclick="openTab(event, 'additionalInfoTab')">Additional Information</li>
                <li class="tab" data-tab-target="statusTab" onclick="openTab(event, 'statusTab')">Status & Market</li>
                <li class="tab" data-tab-target="approvalTab" onclick="openTab(event, 'approvalTab')">Approval Activities</li>
                <li class="tab" data-tab-target="contactsTab" onclick="openTab(event, 'contactsTab')">Published Contacts</li>
            </ul>

            <div class="modal-body-content">
                <div id="headerTab" class="tab-content active">
                    <div class="left-form-section">
                        <fieldset class="form-section">
                            <legend>Quote Info</legend>
                            <div class="form-grid-2-col">
                                <label for="quoteCategory">Category:<span class="required-star">*</span></label>
<div class="input-with-button" style="position: relative;">
    <input type="text" id="quoteCategory" placeholder="Select a category" required autocomplete="off" readonly>
    <button type="button" id="showCategoryListBtn" class="dropdown-toggle-btn" title="Show Categories">
        <i class="fa fa-caret-down"></i>
    </button>
    <div id="categoryDropdown" class="custom-dropdown-list">
        </div>
</div>

                                <label for="quoteNo">Quote No.:</label>
                                <input type="text" id="quoteNo" autocomplete="off">

                                <label for="quoteRev">Rev.:</label>
                                <input type="text" id="quoteRev" autocomplete="off">

                                <label for="quoteDate">Quote Date:</label>
                                <input type="date" id="quoteDate" autocomplete="off">


   <label for="quoteProjectCodeInput">Project Code:<span class="required-star">*</span></label>
<div class="input-group project-code-input-group">
    <input 
        type="text" 
        id="quoteProjectCodeInput" 
        class="form-control" 
        placeholder="Search or select Project Code" 
        autocomplete="off"
        readonly >
    
    <button 
        type="button" 
        id="showProjectCodeListBtn" 
        class="btn btn-outline-secondary project-code-dropdown-toggle-btn"
        title="Show Project List" >
        <i class="fas fa-caret-down"></i> </button>

    <div id="projectCodeDropdown" class="custom-dropdown-list">
        </div>
</div>


                                <label for="quoteLegacyNo">Legacy No:</label>
                                <input type="text" id="quoteLegacyNo" autocomplete="off">

                                <label for="quoteLegacyDate">Legacy Date:</label>
                                <input type="date" id="quoteLegacyDate" autocomplete="off">

                              
    <label for="quoteCustomer">Customer Name</label>
    <input type="text" class="form-control" id="quoteCustomer" readonly>


                              
    <label for="quoteProject">Project Name</label>
    <input type="text" class="form-control" id="quoteProject" readonly>


                                <label for="quoteProjectDetails">Project Details:</label>
                                <input type="text" id="quoteProjectDetails" autocomplete="off">

                                <label for="quoteSubject">Subject:<span class="required-star">*</span></label>
                                <input type="text" id="quoteSubject" required autocomplete="off">

                            </div>
                        </fieldset>

                        <fieldset class="form-section">
                            <legend>Contact Info</legend>
                            <div class="form-grid-2-col">
                                <label for="quoteContactFrom">From:<span class="required-star">*</span></label>
                                <div class="input-with-button" style="position: relative;">
                                    <input type="text" id="quoteContactFrom" placeholder="Select from list or type" autocomplete="off">
                                    <button type="button" id="showEmployeesListBtnEmployee" class="dropdown-toggle-btn" title="Show Employees">
                                        <i class="fa fa-caret-down"></i> </button>
                                    <div id="employeeDropdown" class="custom-dropdown-list"></div>
                                </div>

                                <label for="quoteInquiry">Inquiry:</label>
                                <input type="text" id="quoteInquiry" autocomplete="off">

<label for="quoteContactPerson">Contact:<span class="required-star">*</span></label>
<div class="input-group contact-person-input-group">
    <input
        type="text"
        id="quoteContactPerson"
        class="form-control"
        placeholder="Search or select Contact"
        autocomplete="off"
    >
    <button
        type="button"
        id="showContactPersonListBtn"
        class="btn btn-outline-secondary contact-person-dropdown-toggle-btn"
        title="Show Contacts List" >
        <i class="fas fa-caret-down"></i>
    </button>
    <div id="contactPersonDropdown" class="custom-dropdown-list">
        </div>
</div>

<label for="quoteContactTo">To:</label>
<textarea id="quoteContactTo" autocomplete="off" rows="3"></textarea> 

<label for="quoteAttnTo">Attn. To:</label>
<input type="text" id="quoteAttnTo" autocomplete="off">

<label for="quoteAttnPos">Attn. Pos:</label>
<input type="text" id="quoteAttnPos" autocomplete="off">

<label for="quoteContactEmail">Contact Email:</label>
<input type="text" id="quoteContactEmail" autocomplete="off">

<label for="quoteContactMobile">Contact Mobile:</label>
<input type="text" id="quoteContactMobile" autocomplete="off">
                        </fieldset>

                        <fieldset class="form-section">
                            <legend>Terms and other Controls</legend>
                            <div class="form-grid-3-col">
                                <label for="quoteCurrency">Currency:</label>
                                <select id="quoteCurrency" autocomplete="off">
                                    <option value="SAR">SAR</option>
                                    <option value="USD">USD</option>
                                </select>

                                <label for="quoteDiscount">Discount:</label>
                                <input type="number" id="quoteDiscount" autocomplete="off">

                                <label for="quoteVAT">VAT (%):</label>
                                <input type="number" id="quoteVAT" value="15" autocomplete="off">

                                <label for="quoteValidity">Validity (Days):</label>
                                <input type="number" id="quoteValidity" value="60" autocomplete="off">

                                <label for="quotePaymentTermsInput">Payment Terms:</label>
                                <div class="input-with-button" style="position: relative;">
                                    <input type="text" id="quotePaymentTermsInput" placeholder="Select a payment method" autocomplete="off" readonly>

                                    <button type="button" id="showPaymentTermsListBtn" class="dropdown-toggle-btn" title="Show Payment Methods">
                                        <i class="fa fa-caret-down"></i>
                                    </button>

                                    <div id="paymentTermsDropdown" class="custom-dropdown-list">
                                    </div>
                                </div>

                                <label for="quoteMethod">Method:</label>
                                <input type="text" id="quoteMethod" autocomplete="off">
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="quoteUseAltForm" autocomplete="off">
                                <label for="quoteUseAltForm">Use Alternative Form</label>
                            </div>
                        </fieldset>

                        <fieldset class="form-section">
                            <legend>Additional Info</legend>
                            <div class="form-grid-2-col">
                                <label for="quoteRemarks">Remarks:</label>
                                <textarea id="quoteRemarks" rows="3" autocomplete="off"></textarea>

                                <label for="quoteQuoteFile">Quote File:</label>
                                <div class="file-input-group">
                                    <input type="text" id="quoteQuoteFile" readonly autocomplete="off">
                                    <button class="btn btn-icon"><i class="fas fa-folder-open"></i></button>
                                </div>

                                <label for="quoteFileStatus">File Status:</label>
                                <input type="text" id="quoteFileStatus" value="PDF Not Created" autocomplete="off">
                            </div>
                            <div class="checkbox-container">
                                <input type="checkbox" id="quoteDeclined" autocomplete="off">
                                <label for="quoteDeclined">Declined</label>
                            </div>
                            <div class="form-grid-2-col">
                                <label for="quoteDeclinedMessage">Declined Message:</label>
                                <textarea id="quoteDeclinedMessage" rows="2" autocomplete="off"></textarea>
                            </div>
                        </fieldset>
                         <div class="modal-footer">
                <button type="button" id="closeHeaderTabBtn" class="btn btn-secondary">Close</button>
                <div class="footer-spacer"></div> <!-- Spacer to push save buttons to right -->
                    <button type="button" id="saveHeaderTabBtn" class="btn btn-primary">Save Header</button>
                    <button type="button" id="saveAndCloseHeaderTabBtn" class="btn btn-success">Save Header & Close</button>
            </div>
                    </div>

                    <!-- Financials and Quote Status sections for the Header tab -->
                    <div class="right-sidebar-section">
                        <fieldset class="form-section">
                            <legend>Financials</legend>
                            <div class="form-grid-2-col-sidebar">
                                <label for="financialTotalLines">Total Lines:</label>
                                <input type="text" id="financialTotalLines" value="0.000" autocomplete="off">

                                <label for="financialDiscountAmount">Discount Amount:</label>
                                <input type="text" id="financialDiscountAmount" value="0.000" autocomplete="off">

                                <label for="financialTaxAmount">Tax Amount:</label>
                                <input type="text" id="financialTaxAmount" value="0.000" autocomplete="off">

                                <label for="financialGrandTotal">Grand Total:</label>
                                <input type="text" id="financialGrandTotal" value="0.000" autocomplete="off">
                            </div>
                        </fieldset>

                        <fieldset class="form-section">
                            <legend>Quote Status</legend>
                            <div class="form-grid-2-col-sidebar">
                                <label for="quoteOverallStatus">Quote Status:</label>
                                <input type="text" id="quoteOverallStatus" autocomplete="off">

                                <label for="quoteLastConfirmation">Last Confirmation:</label>
                                <input type="text" id="quoteLastConfirmation" autocomplete="off">

                                <label for="quoteLastConfirmed">Last Confirmed:</label>
                                <input type="text" id="quoteLastConfirmed" autocomplete="off">
                            </div>
                        </fieldset>
                    </div>
                    
                </div>

                <!-- START: Updated Quote Lines Tab Content -->
                <div id="linesTab" class="tab-content lines-tab-layout">
                    <div class="lines-main-content">
                        <div class="lines-toolbar">
                            <button title="Add Quote Line" class="btn btn-add-line" onclick="addQuoteLine()"><i class="fas fa-plus-square"></i></button>
                            <button title="Edit Selected Line" class="btn btn-icon" onclick="editQuoteLine()"><i class="fas fa-pen"></i></button>
                            <!-- NEW: Changed third icon to "Add Multiple Items from Price List" -->
                            <button title="Add Multiple Items from Price List" class="btn btn-icon" onclick="openPriceListModal()"><i class="fas fa-list-ul"></i></button>
                            <button title="Copy Line" class="btn btn-icon" onclick="copyQuoteLine()"><i class="fas fa-copy"></i></button>
                            <button title="Paste Line" class="btn btn-icon" onclick="pasteQuoteLine()"><i class="fas fa-paste"></i></button>
                            <button title="Clear Filters" class="btn btn-icon" onclick="clearLinesFilters()"><i class="fas fa-filter-circle-xmark"></i></button>
                            <button title="Refresh" class="btn btn-icon" onclick="refreshQuoteLinesTable()"><i class="fas fa-arrows-rotate"></i></button>
                            <span class="icon-separator"></span>
                            <button title="Export to Excel" class="btn btn-icon" onclick="exportQuoteLinesToExcel()"><i class="fas fa-file-excel"></i></button>
                            <button title="Print" onclick="printQuoteLinesTable()" class="btn btn-icon"><i class="fas fa-print"></i></button>
                        </div>

                        <div class="table-container lines-table-container">
                            <table id="quotationLinesTable" class="quotation-lines-table" data-ignore-lang>
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" class="select-all-lines" onclick="toggleSelectAllQuoteLines(this)" /></th>
                                        <th>Service/Test Id</th>
                                        <th>Line Description</th>
                                        <th>Accounted</th>
                                        <th>Category</th>
                                        <th>Type</th>
                                        <th>Method</th>
                                        <th>Actions</th>
                                    </tr>
                                    <tr class="filter-row">
                                        <td></td>
                                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                                        <td><input type="text" placeholder="Search" class="column-filter" autocomplete="off"></td>
                                        <td></td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Quote lines will be populated here by DataTables -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Financials and Quote Status sections for the Lines tab - now on the right -->
                    <div class="lines-sidebar">
                        <fieldset class="form-section">
                            <legend>Financials</legend>
                            <div class="form-grid-2-col-sidebar">
                                <label for="linesFinancialTotalLines">Total Lines:</label>
                                <input type="text" id="linesFinancialTotalLines" value="0.000" autocomplete="off">

                                <label for="linesFinancialDiscountAmount">Discount Amount:</label>
                                <input type="text" id="linesFinancialDiscountAmount" value="0.000" autocomplete="off">

                                <label for="linesFinancialTaxAmount">Tax Amount:</label>
                                <input type="text" id="linesFinancialTaxAmount" value="0.000" autocomplete="off">

                                <label for="linesFinancialGrandTotal">Grand Total:</label>
                                <input type="text" id="linesFinancialGrandTotal" value="0.000" autocomplete="off">
                            </div>
                        </fieldset>

                        <fieldset class="form-section">
                            <legend>Quote Status</legend>
                            <div class="form-grid-2-col-sidebar">
                                <label for="linesQuoteOverallStatus">Quote Status:</label>
                                <input type="text" id="linesQuoteOverallStatus" autocomplete="off">

                                <label for="linesQuoteLastConfirmation">Last Confirmation:</label>
                                <input type="text" id="linesQuoteLastConfirmation" autocomplete="off">

                                <label for="linesQuoteLastConfirmed">Last Confirmed:</label>
                                <input type="text" id="linesQuoteLastConfirmed" autocomplete="off">
                            </div>
                        </fieldset>
                    </div>
                                <div class="modal-footer">
               <button type="button" id="closeLinesTabBtn" class="btn btn-secondary">Close</button>
                <div class="footer-spacer"></div> <!-- Spacer to push save buttons to right -->
               
                    <button type="button" id="saveLinesTabBtn" class="btn btn-primary">Save Lines</button>
                    <button type="button" id="saveAndCloseLinesTabBtn" class="btn btn-success">Save Lines & Close</button>
            </div>
                </div>
                <!-- END: Updated Quote Lines Tab Content -->

                <div id="confirmationTab" class="tab-content">
                    <p>Confirmation Content</p>
                </div>
                <div id="additionalInfoTab" class="tab-content">
                    <p>Additional Info Content</p>
                </div>
                <div id="statusTab" class="tab-content">
                    <p>Status & Market Content</p>
                </div>
                <div id="approvalTab" class="tab-content">
                    <p>Approval Activities Content</p>
                </div>
                <div id="contactsTab" class="tab-content">
                    <p>Published Contacts Content</p>
                </div>
            </div>

           
        </div>
        
    </div>

    <!-- NEW: Price List Modal Structure -->
    <div id="priceListModal" class="modal" style="display: none;">
        <div class="modal-content large-modal price-list-modal-grid">
            <span class="close" onclick="closePriceListModal()">&times;</span>
            <div class="modal-header-title">
                <h2>Add Multiple Items from Price List</h2>
            </div>
            <div class="modal-body-content price-list-body">
                <!-- Top Toolbar -->
                <div class="price-list-top-toolbar">
                    <input type="text" id="priceListSearchInput" placeholder="Enter text to search..." autocomplete="off">
                    <button class="btn btn-primary btn-search-price-list" onclick="filterPriceList()"><i class="fas fa-search"></i> Find</button>
                    <!-- NEW: Placeholder for Reset Button -->
                    <div id="priceListResetButtonContainer" style="display: none;">
                        <button class="btn btn-secondary btn-reset-search" onclick="resetPriceListFilters()"><i class="fas fa-undo"></i> Reset Search</button>
                    </div>
                </div>
                <div class="table-container price-list-table-container">
                    <table id="priceListTable" class="display" style="width:100%">
                        <thead>
                            <!-- DataTables will generate headers here based on the 'columns' configuration in JS -->
                        </thead>
                        <tbody>
                            <!-- Price list items will be populated here by DataTables -->
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- Bottom Toolbar (Footer) - Reordered and adjusted for image match -->
            <div class="modal-footer price-list-footer">
                <div class="btn-group-left">
                    <button type="button" class="btn btn-secondary btn-reset-price-list" onclick="resetPriceListFilters()"><i class="fas fa-arrows-rotate"></i> Reset/Refresh</button>
                </div>
                <div class="btn-group-center">
                    <button type="button" class="btn btn-info btn-set-price-only" onclick="setPriceOnlyForSelected()"><i class="fas fa-money-bill-alt"></i> Set Selected as Price Only</button>
                </div>
                <div class="btn-group-right">
                    <button type="button" class="btn btn-cancel btn-close-price-list" onclick="closePriceListModal()"><i class="fas fa-times-circle"></i> Close</button>
                    <button type="button" class="btn btn-primary btn-insert-no-groups" onclick="addSelectedItemsToQuoteLines()"><i class="fas fa-plus-circle"></i> Insert without Groups</button>
                    <button type="button" class="btn btn-primary btn-insert-with-groups" onclick="addSelectedItemsToQuoteLines(true)"><i class="fas fa-object-group"></i> Insert with Groups</button>
                </div>
            </div>
        </div>
    </div>
<div id="editQuoteLineModal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close-button" onclick="closeEditQuoteLineModal()">&times;</span>
        <h2>تعديل سطر عرض الأسعار</h2>
        <form id="editQuoteLineForm">
            <div class="form-group">
                <label for="editLineDescription">الوصف:</label>
                <input type="text" id="editLineDescription" class="form-control">
            </div>
            <div class="form-group">
                <label for="editLineQuantity">الكمية:</label>
                <input type="number" id="editLineQuantity" class="form-control">
            </div>
            <button type="button" id="saveEditedLineBtn" class="btn btn-primary">حفظ التغييرات</button>
            <button type="button" onclick="closeEditQuoteLineModal()" class="btn btn-secondary">إلغاء</button>
        </form>
    </div>
</div>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <!-- NEW: FixedColumns JS for fixed headers -->
    <script src="https://cdn.datatables.net/fixedcolumns/4.3.0/js/dataTables.fixedColumns.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

    <script src="main.js"></script>
    <script src="customers.js"></script>
    <script src="quotation.js"></script>
</body>
</html>

